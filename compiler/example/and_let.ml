let rec f n =
    if n mod 2 = 0
    then g n
    else h n
and g n = n / 2
and h n = 3*n + 1
